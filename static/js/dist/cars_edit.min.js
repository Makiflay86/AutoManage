"use strict";var mainImgInput=document.querySelector('input[name="imagen"]'),fileStatus=document.getElementById("file-status"),btnRemoveMain=document.getElementById("btnRemoveMain"),clearImgCheckbox=document.getElementById("imagen-clear_id");mainImgInput&&mainImgInput.addEventListener("change",function(e){if(this.files&&this.files[0]){var t=URL.createObjectURL(this.files[0]),n=document.getElementById("mainItem"),i=document.getElementById("thumbContainer");fileStatus.innerHTML='<i class="bi bi-arrow-repeat"></i> Nueva: '.concat(this.files[0].name),fileStatus.className="small fw-bold text-primary",btnRemoveMain.style.display="block",clearImgCheckbox&&(clearImgCheckbox.checked=!1),n.innerHTML='<img src="'.concat(t,'" class="d-block w-100" id="mainImgPreview" style="height: 380px; object-fit: cover;">');var a=document.getElementById("mainThumb");if(a)a.src=t,a.style.display="block";else{var c=document.createElement("img");c.id="mainThumb",c.src=t,c.className="rounded border shadow-sm thumb-selector active",c.style="width: 70px; height: 50px; object-fit: cover; cursor: pointer;",c.setAttribute("data-bs-target","#carGallery"),c.setAttribute("data-bs-slide-to","0"),i.prepend(c)}}}),btnRemoveMain&&btnRemoveMain.addEventListener("click",function(){mainImgInput.value="",clearImgCheckbox&&(clearImgCheckbox.checked=!0),fileStatus.innerHTML='<i class="bi bi-x-circle-fill"></i> Marcada para eliminar',fileStatus.className="small fw-bold text-danger",document.getElementById("mainItem").innerHTML='<div class="bg-light d-flex justify-content-center align-items-center" style="height: 380px;"><i class="bi bi-camera fs-1 text-secondary opacity-50"></i></div>',document.getElementById("mainThumb")&&(document.getElementById("mainThumb").style.display="none"),this.style.display="none"});var selectedFiles=[],imageInput=document.getElementById("imageInput"),previewContainer=document.getElementById("previewContainer");function updateInputFiles(){var t=new DataTransfer;selectedFiles.forEach(function(e){return t.items.add(e)}),imageInput.files=t.files}imageInput.addEventListener("change",function(e){Array.from(e.target.files).forEach(function(n){selectedFiles.push(n);var e=new FileReader;e.onload=function(e){var t=document.createElement("div");t.className="new-preview-item",t.innerHTML='<img src="'.concat(e.target.result,'" class="rounded border shadow-sm w-100 h-100" style="object-fit: cover;"><div class="remove-new"><i class="bi bi-trash"></i></div>'),t.querySelector(".remove-new").onclick=function(){selectedFiles=selectedFiles.filter(function(e){return e!==n}),t.remove(),updateInputFiles()},previewContainer.appendChild(t)},e.readAsDataURL(n)}),updateInputFiles()});var carGallery=document.getElementById("carGallery");carGallery.addEventListener("slid.bs.carousel",function(){document.querySelectorAll(".thumb-selector").forEach(function(e){return e.classList.remove("active")});var e=Array.from(document.querySelectorAll(".carousel-item")).indexOf(document.querySelector(".carousel-item.active")),t=document.querySelectorAll(".thumb-selector")[e];t&&t.classList.add("active")});
//# sourceMappingURL=cars_edit.min.js.map
